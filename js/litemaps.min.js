(function(a){Drupal.behaviors.litemaps={attach:function(b,c){Drupal.litemaps.init();Drupal.litemaps.fieldsetSummary(b)}};Drupal.litemaps={};Drupal.litemaps={init:function(){if(typeof Drupal.settings.litemaps=="object"){a.each(Drupal.settings.litemaps,function(b,c){a("#"+b+":not(.litemaps-processed)").each(function(){a(this).litemaps(c);if(c.picker){var h=a(this).parents("form");a(this).wrap('<div class="picker" />');a(this).addClass("pickerk-map");a(this).before('<div class="pickerk-input"><input id="'+b+'-search" type="text" size="50"><input type="radio" name="type" id="'+b+'-changetype-all" checked> <label for="'+b+'-changetype-all">'+Drupal.t("All")+'</label><input type="radio" name="type" id="'+b+'-changetype-establishment"> <label for="'+b+'-changetype-establishment">'+Drupal.t("Establishments")+'</label><input type="radio" name="type" id="'+b+'-changetype-geocode"> <label for="'+b+'-changetype-geocode">'+Drupal.t("Geocodes")+"</label></div>");var e=document.getElementById(b+"-search");var g=new google.maps.places.Autocomplete(e);var j=a(this).data("litemaps_map");g.bindTo("bounds",j);var i=new google.maps.InfoWindow();var d=new google.maps.Marker({map:j,icon:"https://chart.googleapis.com/chart?chst=d_map_pin_letter_withshadow&chld=|0000FF|"});google.maps.event.addListener(d,"position_changed",function(){a('input[name="litemaps[latitude]"]',h).val(d.getPosition().lat());a('input[name="litemaps[longitude]"]',h).val(d.getPosition().lng())});google.maps.event.addListener(j,"click",function(k){i.close();d.setPosition(k.latLng)});google.maps.event.addListener(g,"place_changed",function(){i.close();var l=g.getPlace();if(l.geometry.viewport){j.fitBounds(l.geometry.viewport)}else{j.setCenter(l.geometry.location);j.setZoom(17)}d.setPosition(l.geometry.location);var k="";if(l.address_components){k=[(l.address_components[0]&&l.address_components[0].short_name||""),(l.address_components[1]&&l.address_components[1].short_name||""),(l.address_components[2]&&l.address_components[2].short_name||"")].join(" ")}i.setContent("<div><b>"+l.name+"</b><br>"+k);i.open(j,d)});var f=function(m,k){var l=document.getElementById(m);google.maps.event.addDomListener(l,"click",function(){g.setTypes(k)})};f(b+"-changetype-all",[]);f(b+"-changetype-establishment",["establishment"]);f(b+"-changetype-geocode",["geocode"])}}).addClass("litemaps-processed")})}},fieldsetSummary:function(b){a("fieldset.litemaps-node-type-settings-form",b).drupalSetSummary(function(d){if(a(".form-item-litemaps-picker input").is(":checked")){var c=Drupal.t("Show location picker in node form")}else{var c=Drupal.t("Don't show location picker in node form")}return Drupal.checkPlain(c)})}}}(jQuery));